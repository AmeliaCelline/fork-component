{
  "$defs": {
    "common": {
      "contact-id-or-email": {
        "instillAcceptFormats": ["string"],
        "instillUIMultiline": true,
        "instillUIOrder": 0,
        "instillUpstreamTypes": ["value", "reference", "template"],
        "title": "Contact ID or Email",
        "type": "string"
      },
      "owner-id": {
        "description": "The user who is assigned to the object",
        "title": "Owner ID",
        "instillUIOrder": 1,
        "type": "string"
      },
      "associated-contact-id": {
          "description": "Contact IDs associated with the object",
          "title": "Associated Contact IDs",
          "type": "array",
          "instillFormat": "array:string",
          "items": {
            "title": "Associated Contact ID",
            "type": "string",
            "description": "Contact ID associated with the object",
            "instillFormat": "string"
          }
      }
    },
    "contact": {
      "email": {
        "description": "Email address",
        "instillUIOrder": 2,
        "title": "Email Address",
        "type": "string"
      },
      "first-name": {
        "description": "First name",
        "instillUIOrder": 3,
        "title": "First Name",
        "type": "string"
      },
      "last-name": {
        "description": "Last name",
        "instillUIOrder": 4,
        "title": "Last Name",
        "type": "string"
      },
      "phone-number": {
        "description": "Phone number. Preferably, format is in country code + phone number. Example: +886xxxxxxxxx ",
        "instillUIOrder": 5,
        "title": "Phone Number",
        "type": "string"
      },
      "company": {
        "description": "Company",
        "instillUIOrder": 6,
        "title": "Company",
        "type": "string"
      },
      "job-title": {
        "description": "Job title",
        "instillUIOrder": 7,
        "title": "Job Title",
        "type": "string"
      },
      "lifecycle-stage": {
        "description": "Lifecycle stage. Default format is in small letters, all words are combined. Example: salesqualifiedlead. However, remember to check internal value for custom fields.",
        "instillUIOrder": 8,
        "title": "Lifecycle Stage",
        "type": "string"
      },
      "lead-status": {
        "description": "Lead status. Default format is in capital letters, with _ as space. Example: IN_PROGRESS. However, remember to check internal value for custom fields.",
        "instillUIOrder": 9,
        "title": "Lead Status",
        "type": "string"
      }
    },
    "deal": {
      "deal-name": {
        "description": "Deal name",
        "instillUIOrder": 2,
        "title": "Deal Name",
        "type": "string"
      },
      "pipeline": {
        "description": "Pipeline. HubSpot uses interval value rather than the name displayed in the view",
        "instillUIOrder": 3,
        "title": "Pipeline",
        "type": "string"
      },
      "deal-stage": {
        "description": "Deal stage. Default format is in small letters, all words are combined. Example: qualifiedtobuy. However, remember to check internal value for custom fields.",
        "instillUIOrder": 4,
        "title": "Deal Stage",
        "type": "string"
      },
      "amount": {
        "description": "Amount",
        "instillUIOrder": 5,
        "title": "Amount",
        "type": "string"
      },
      "deal-type": {
        "description": "Deal type. Default format is in small letters, all words are combined. Example: newbusiness. However, remember to check internal value for custom fields.",
        "instillUIOrder": 6,
        "title": "Deal Type",
        "type": "string"
      },
      "close-date": {
        "description": "Close date. Format is in ISO 8601. Example: 2024-07-01T11:47:40.388Z",
        "instillUIOrder": 7,
        "title": "Close Date",
        "type": "string"
      },
      "create-date": {
        "description": "Create date. Format is in ISO 8601. Example: 2024-07-01T11:47:40.388Z",
        "instillUIOrder": 8,
        "title": "Create Date",
        "type": "string"
      }
    },
    "ticket": {
      "ticket-name": {
        "description": "Ticket name",
        "instillUIOrder": 2,
        "title": "Ticket Name",
        "type": "string"
      },
      "ticket-status": {
        "description": "Ticket Status. Default format is number. Example: 0. However, remember to check internal value for custom fields.",
        "instillUIOrder": 3,
        "title": "Ticket Status",
        "type": "string"
      },
      "pipeline": {
        "description": "Pipeline. HubSpot uses interval value rather than the name displayed in the view",
        "instillUIOrder": 4,
        "title": "Pipeline",
        "type": "string"
      },
      "category": {
        "description": "Category, main reason customer reached out for help. Default format is in capital letters. Example: BILLING_ISSUE. However, remember to check internal value for custom fields.",
        "instillUIOrder": 5,
        "title": "Category",
        "type": "array"
      },
      "priority": {
        "description": "The level of attention needed on the ticket. Default format is in capital letters. Example: MEDIUM. However, remember to check internal value for custom fields.",
        "instillUIOrder": 6,
        "title": "Priority",
        "type": "string"
      },
      "source": {
        "description": "Channel where ticket was originally submitted. Default format is in capital letters. Example: EMAIL",
        "instillUIOrder": 7,
        "title": "Source",
        "type": "string"
      },
      "record-source": {
        "description": "How this record was created.",
        "instillUIOrder": 8,
        "title": "Record Source",
        "type": "string"
      },
      "create-date": {
        "description": "Create date. Format is in ISO 8601. Example: 2024-07-01T11:47:40.388Z",
        "instillUIOrder": 9,
        "title": "Create Date",
        "type": "string"
      },
      "last-modified-date": {
        "description": "Last modified date. Format is in ISO 8601. Example: 2024-07-01T11:47:40.388Z",
        "instillUIOrder": 10,
        "title": "Last Modified Date",
        "type": "string"
      }
    },
    "thread": {
      "thread-user-information": {
        "type": "object",
        "properties": {
          "name": {
            "description": "The name of the contact",
            "instillFormat": "string",
            "instillUIOrder": 0,
            "title": "Name",
            "type": "string"
          },
          "type": {
            "description": "Specify the category of contact information",
            "instillFormat": "string",
            "instillUIOrder": 1,
            "title": "Type",
            "type": "string"
          },
          "value": {
            "description": "Contains the actual contact information (e.g.: email address)",
            "instillFormat": "string",
            "instillUIOrder": 2,
            "title": "Value",
            "type": "string"
          }
        },
        "required": []
      }
    }
  },
  "TASK_GET_CONTACT": {
    "instillShortDescription": "Get contact information using contact ID or Email",
    "input": {
      "description": "Input contact ID or email",
      "instillUIOrder": 0,
      "properties": {
        "contact-id-or-email": {
          "description": "Input contact ID or email. If the input has @, it will search the contact using email",
          "$ref": "#/$defs/common/contact-id-or-email"
        }
      },
      "required": ["contact-id-or-email"],
      "title": "Input",
      "type": "object"
    },
    "output": {
      "description": "Contact information",
      "instillUIOrder": 0,
      "properties": {
        "owner-id": {
          "$ref": "#/$defs/common/owner-id",
          "instillFormat": "string",
          "required": []
        },
        "email": {
          "$ref": "#/$defs/contact/email",
          "instillFormat": "string",
          "required": []
        },
        "first-name": {
          "$ref": "#/$defs/contact/first-name",
          "instillFormat": "string",
          "required": []
        },
        "last-name": {
          "$ref": "#/$defs/contact/last-name",
          "instillFormat": "string",
          "required": []
        },
        "phone-number": {
          "$ref": "#/$defs/contact/phone-number",
          "instillFormat": "string",
          "required": []
        },
        "company": {
          "$ref": "#/$defs/contact/company",
          "instillFormat": "string",
          "required": []
        },
        "job-title": {
          "$ref": "#/$defs/contact/job-title",
          "instillFormat": "string",
          "required": []
        },
        "lifecycle-stage": {
          "$ref": "#/$defs/contact/lifecycle-stage",
          "instillFormat": "string",
          "required": []
        },
        "lead-status": {
          "$ref": "#/$defs/contact/lead-status",
          "instillFormat": "string",
          "required": []
        },
        "contact-id": {
          "description": "Contact ID",
          "instillUIOrder": 9,
          "required": [],
          "title": "Contact ID",
          "type": "string",
          "instillFormat": "string"
        }
      },
      "required": ["contact-id"],
      "title": "Output",
      "type": "object"
    }
  },
  "TASK_CREATE_CONTACT": {
    "instillShortDescription": "Create new contact",
    "input": {
      "description": "Contact information",
      "instillUIOrder": 0,
      "properties": {
        "owner-id": {
          "$ref": "#/$defs/common/owner-id",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "email": {
          "$ref": "#/$defs/contact/email",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "first-name": {
          "$ref": "#/$defs/contact/first-name",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "last-name": {
          "$ref": "#/$defs/contact/last-name",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "phone-number": {
          "$ref": "#/$defs/contact/phone-number",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "company": {
          "$ref": "#/$defs/contact/company",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "job-title": {
          "$ref": "#/$defs/contact/job-title",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "lifecycle-stage": {
          "$ref": "#/$defs/contact/lifecycle-stage",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "lead-status": {
          "$ref": "#/$defs/contact/lead-status",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        }
      },
      "required": ["email"],
      "title": "Input",
      "type": "object"
    },
    "output": {
      "description": "Obtain contact ID",
      "instillUIOrder": 0,
      "properties": {
        "contact-id": {
          "description": "Contact ID",
          "instillUIOrder": 0,
          "required": [],
          "title": "Contact ID",
          "type": "string",
          "instillFormat": "string"
        }
      },
      "required": ["contact-id"],
      "title": "Output",
      "type": "object"
    }
  },
  "TASK_GET_DEAL": {
    "instillShortDescription": "Get deal information using deal ID",
    "input": {
      "description": "Input deal ID",
      "instillUIOrder": 0,
      "properties": {
        "deal-id": {
          "description": "Input deal ID",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUIOrder": 0,
          "instillUpstreamTypes": ["value", "reference", "template"],
          "title": "Deal ID",
          "type": "string"
        }
      },
      "required": ["deal-id"],
      "title": "Input",
      "type": "object"
    },
    "output": {
      "description": "Deal information",
      "instillUIOrder": 0,
      "properties": {
        "owner-id": {
          "$ref": "#/$defs/common/owner-id",
          "instillFormat": "string",
          "required": []
        },
        "deal-name": {
          "$ref": "#/$defs/deal/deal-name",
          "instillFormat": "string",
          "required": []
        },
        "pipeline": {
          "$ref": "#/$defs/deal/pipeline",
          "instillFormat": "string",
          "required": []
        },
        "deal-stage": {
          "$ref": "#/$defs/deal/deal-stage",
          "instillFormat": "string",
          "required": []
        },
        "amount": {
          "$ref": "#/$defs/deal/amount",
          "instillFormat": "string",
          "required": []
        },
        "deal-type": {
          "$ref": "#/$defs/deal/deal-type",
          "instillFormat": "string",
          "required": []
        },
        "create-date": {
          "$ref": "#/$defs/deal/create-date",
          "instillFormat": "string",
          "required": []
        },
        "close-date": {
          "$ref": "#/$defs/deal/close-date",
          "instillFormat": "string",
          "required": []
        },
        "associated-contact-id": {
          "$ref": "#/$defs/common/associated-contact-id",
          "instillUIorder": 9
        }
        
      },
      "required": ["deal-name", "pipeline", "deal-stage"],
      "title": "Output",
      "type": "object"
    }
  },
  "TASK_CREATE_DEAL": {
    "instillShortDescription": "Create new deal",
    "input": {
      "description": "Deal information",
      "instillUIOrder": 0,
      "properties": {
        "contact-id-or-email": {
          "description": "Use to associate contact with deal. If the input has @, it will use email, otherwise, it will use contact id.",
          "$ref": "#/$defs/common/contact-id-or-email"
        },
        "owner-id": {
          "$ref": "#/$defs/common/owner-id",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "deal-name": {
          "$ref": "#/$defs/deal/deal-name",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "pipeline": {
          "$ref": "#/$defs/deal/pipeline",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "deal-stage": {
          "$ref": "#/$defs/deal/deal-stage",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "amount": {
          "$ref": "#/$defs/deal/amount",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "deal-type": {
          "$ref": "#/$defs/deal/deal-type",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "close-date": {
          "$ref": "#/$defs/deal/close-date",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        }
      },
      "required": ["deal-name", "pipeline", "deal-stage"],
      "title": "Input",
      "type": "object"
    },
    "output": {
      "description": "Obtain deal ID",
      "instillUIOrder": 0,
      "properties": {
        "deal-id": {
          "description": "Deal ID",
          "instillUIOrder": 0,
          "required": [],
          "title": "Deal ID",
          "type": "string",
          "instillFormat": "string"
        }
      },
      "required": ["deal-id"],
      "title": "Output",
      "type": "object"
    }
  },
  "TASK_GET_TICKET": {
    "instillShortDescription": "Get ticket information using ticket ID",
    "input": {
      "description": "Input ticket ID",
      "instillUIOrder": 0,
      "properties": {
        "ticket-id": {
          "description": "Input ticket ID",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUIOrder": 0,
          "instillUpstreamTypes": ["value", "reference", "template"],
          "title": "Ticket ID",
          "type": "string"
        }
      },
      "required": ["ticket-id"],
      "title": "Input",
      "type": "object"
    },
    "output": {
      "description": "Contact information",
      "instillUIOrder": 0,
      "properties": {
        "owner-id": {
          "$ref": "#/$defs/common/owner-id",
          "instillFormat": "string",
          "required": []
        },
        "ticket-name": {
          "$ref": "#/$defs/ticket/ticket-name",
          "instillFormat": "string",
          "required": []
        },
        "ticket-status": {
          "$ref": "#/$defs/ticket/ticket-status",
          "instillFormat": "string",
          "required": []
        },
        "pipeline": {
          "$ref": "#/$defs/ticket/pipeline",
          "instillFormat": "string",
          "required": []
        },
        "category": {
          "$ref": "#/$defs/ticket/category",
          "instillFormat": "array:string",
          "items": {
            "title": "Category Value",
            "type": "string",
            "description": "Category value",
            "instillFormat": "string"
          }
        },
        "priority": {
          "$ref": "#/$defs/ticket/priority",
          "instillFormat": "string",
          "required": []
        },
        "source": {
          "$ref": "#/$defs/ticket/source",
          "instillFormat": "string",
          "required": []
        },
        "record-source": {
          "$ref": "#/$defs/ticket/record-source",
          "instillFormat": "string",
          "required": []
        },
        "create-date": {
          "$ref": "#/$defs/ticket/create-date",
          "instillFormat": "string",
          "required": []
        },
        "last-modified-date": {
          "$ref": "#/$defs/ticket/last-modified-date",
          "instillFormat": "string",
          "required": []
        },
        "associated-contact-id": {
          "$ref": "#/$defs/common/associated-contact-id",
          "instillUIorder": 11
        }
      },
      "required": ["ticket-name", "ticket-status", "pipeline"],
      "title": "Output",
      "type": "object"
    }
  },
  "TASK_CREATE_TICKET": {
    "instillShortDescription": "Create new ticket",
    "input": {
      "description": "Ticket information",
      "instillUIOrder": 0,
      "properties": {
        "contact-id-or-email": {
          "description": "Use to associate contact with ticket. If the input has @, it will use email, otherwise, it will use contact id.",
          "$ref": "#/$defs/common/contact-id-or-email"
        },
        "owner-id": {
          "$ref": "#/$defs/common/owner-id",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "ticket-name": {
          "$ref": "#/$defs/ticket/ticket-name",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "ticket-status": {
          "$ref": "#/$defs/ticket/ticket-status",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "pipeline": {
          "$ref": "#/$defs/ticket/pipeline",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "category": {
          "$ref": "#/$defs/ticket/category",
          "instillAcceptFormats": ["array:string"],
          "items": {
            "instillUIMultiline": true,
            "type": "string"
          },
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "priority": {
          "$ref": "#/$defs/ticket/priority",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        },
        "source": {
          "$ref": "#/$defs/ticket/source",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUpstreamTypes": ["value", "reference", "template"]
        }
      },
      "required": ["ticket-name", "ticket-status", "pipeline"],
      "title": "Input",
      "type": "object"
    },
    "output": {
      "description": "Obtain ticket ID",
      "instillUIOrder": 0,
      "properties": {
        "ticket-id": {
          "description": "Ticket ID",
          "instillUIOrder": 0,
          "required": [],
          "title": "Ticket ID",
          "type": "string",
          "instillFormat": "string"
        }
      },
      "required": ["ticket-id"],
      "title": "Output",
      "type": "object"
    }
  },
  "TASK_GET_THREAD": {
    "instillShortDescription": "Retrieve all the messages inside a thread (conversation inbox)",
    "input": {
      "description": "Input thread ID",
      "instillUIOrder": 0,
      "properties": {
        "thread-id": {
          "description": "Input thread ID",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUIOrder": 0,
          "instillUpstreamTypes": ["value", "reference", "template"],
          "title": "Thread ID",
          "type": "string"
        }
      },
      "required": ["thread-id"],
      "title": "Input",
      "type": "object"
    },
    "output": {
      "description": "All messages in the thread",
      "instillUIOrder": 0,
      "properties": {
        "results": {
          "description": "An array of messages",
          "instillUIOrder": 0,
          "title": "Messages",
          "type": "array",
          "items": {
            "title": "Messages Details",
            "type": "object",
            "properties": {
              "created-at": {
                "description": "message to start a conversation",
                "instillFormat": "string",
                "instillUIOrder": 0,
                "title": "Start Conversation Message",
                "type": "string"
              },
              "senders": {
                "description": "Senders",
                "instillFormat": "array",
                "instillUIOrder": 1,
                "title": "Senders",
                "type": "array",
                "items": {
                  "title": "Sender's information",
                  "$ref": "#/$defs/thread/thread-user-information"
                }
              },
              "recipients": {
                "description": "Recipients",
                "instillFormat": "array",
                "instillUIOrder": 2,
                "title": "Recipients",
                "type": "array",
                "items": {
                  "title": "Recipient's information",
                  "$ref": "#/$defs/thread/thread-user-information"
                }
              },
              "text": {
                "description": "when a conversation starts",
                "instillFormat": "string",
                "instillUIOrder": 3,
                "required": [],
                "title": "Start Date",
                "type": "string"
              },
              "subject": {
                "description": "Date of the last message",
                "instillFormat": "string",
                "instillUIOrder": 4,
                "required": [],
                "title": "Last Date",
                "type": "string"
              }
            },
            "required": ["created-at", "text", "subject"]
          }
        }
      },
      "required": ["results"],
      "title": "Output",
      "type": "object"
    }
  },
  "TASK_RETRIEVE_ASSOCIATION": {
    "instillShortDescription": "Get the object IDs associated with contact ID (contact->objects). If you are trying to do the opposite (object->contacts), it is possible using the other tasks. Example: Go to get deal task to obtain deal->contacts",
    "input": {
      "description": "Contact ID and object type (CRM objects or Thread)",
      "instillUIOrder": 0,
      "properties": {
        "contact-id": {
          "description": "Input contact ID",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUIOrder": 0,
          "instillUpstreamTypes": ["value", "reference", "template"],
          "title": "Contact ID",
          "type": "string"
        },
        "object-type": {
          "description": "Input object type (CRM objects or 'Threads'). Note: CRM objects include 'Deals', 'Companies', 'Tickets', etc",
          "instillAcceptFormats": ["string"],
          "instillUIMultiline": true,
          "instillUIOrder": 1,
          "instillUpstreamTypes": ["value", "reference", "template"],
          "title": "Object Type",
          "type": "string"
        }
      },
      "required": ["contact-id", "object-type"],
      "title": "Input",
      "type": "object"
    },
    "output": {
      "description": "All object IDs",
      "instillUIOrder": 0,
      "properties": {
        "results": {
          "description": "An array of object ID",
          "instillUIOrder": 0,
          "title": "Object ID Array ",
          "type": "array",
          "items": {
            "title": "Object ID",
            "type": "object",
            "properties": {
              "id": {
                "description": "Object ID",
                "instillFormat": "string",
                "instillUIOrder": 0,
                "title": "Object ID",
                "type": "string"
              }
            },
            "required": ["id"]
          }
        }
      },
      "required": ["results"],
      "title": "Output",
      "type": "object"
    }
  }
}
