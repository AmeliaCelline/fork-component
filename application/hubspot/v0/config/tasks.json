{
  "$defs":{
    "owner-id": {
      "description": "Owner ID",
      "instillUIOrder": 0,
      "title": "Owner ID",
      "type": "string"
    },
    "contact-id-or-email": {
      "instillAcceptFormats": [
        "string"
      ],
      "instillUIMultiline": true,
      "instillUIOrder": 0,
      "instillUpstreamTypes": [
        "value",
        "reference",
        "template"
      ],
      "title": "Contact ID or Email",
      "type": "string"
    },
    "email": {
      "description": "Email address",
      "instillUIOrder": 1,
      "title": "Email Address",
      "type": "string"
    },
    "first-name": {
      "description": "First name",
      "instillUIOrder": 2,
      "title": "First Name",
      "type": "string"
    },
    "last-name": {
      "description": "Last name",
      "instillUIOrder": 3,
      "title": "Last Name",
      "type": "string"
    },
    "phone-number": {
      "description": "Phone number. Preferably, format is in country code + phone number. Example: +886xxxxxxxxx ",
      "instillUIOrder": 4,
      "title": "Phone Number",
      "type": "string"
    },
    "company": {
      "description": "Company",
      "instillUIOrder": 5,
      "title": "Company",
      "type": "string"
    },
    "job-title": {
      "description": "Job title",
      "instillUIOrder": 6,
      "title": "Job Title",
      "type": "string"
    },
    "lifecycle-stage": {
      "description": "Lifecycle stage. Default format is in small letters, all words are combined. Example: salesqualifiedlead. However, remember to check internal value for custom fields.",
      "instillUIOrder": 7,
      "title": "Lifecycle Stage",
      "type": "string"
    },
    "lead-status": {
      "description": "Lead status. Default format is in capital letters, with _ as space. Example: IN_PROGRESS. However, remember to check internal value for custom fields." ,
      "instillUIOrder": 8,
      "title": "Lead Status",
      "type": "string"
    },
    "deal-name": {
      "description": "Deal name",
      "instillUIOrder": 1,
      "title": "Deal Name",
      "type": "string"
    },
    "pipeline": {
      "description": "Pipeline. HubSpot uses interval value rather than the name displayed in the view",
      "instillUIOrder": 2,
      "title": "Pipeline",
      "type": "string"
    },
    "deal-stage": {
      "description": "Deal stage. Default format is in small letters, all words are combined. Example: qualifiedtobuy. However, remember to check internal value for custom fields.",
      "instillUIOrder": 3,
      "title": "Deal Stage",
      "type": "string"
    },
    "amount": {
      "description": "Amount",
      "instillUIOrder": 4,
      "title": "Amount",
      "type": "string"
    },
    "deal-type": {
      "description": "Deal type. Default format is in small letters, all words are combined. Example: newbusiness. However, remember to check internal value for custom fields.",
      "instillUIOrder": 5,
      "title": "Deal Type",
      "type": "string"
    },
    "close-date": {
      "description": "Close date. Format is in ISO 8601. Example: 2024-07-01T11:47:40.388Z",
      "instillUIOrder": 6,
      "title": "Close Date",
      "type": "string"
    },
    "create-date": {
      "description": "Create date. Format is in ISO 8601. Example: 2024-07-01T11:47:40.388Z",
      "instillUIOrder": 7,
      "title": "Create Date",
      "type": "string"
    },
    "thread-user-information":{
      "type": "object",
      "properties": {
        "name": {
          "description": "The name of the contact",
          "instillFormat": "string",
          "instillUIOrder": 0,
          "title": "Name",
          "type": "string"
        },
        "type": {
          "description": "Specify the category of contact information",
          "instillFormat": "string",
          "instillUIOrder": 1,
          "title": "Type",
          "type": "string"
        },
        "value": {
          "description": "Contains the actual contact information (e.g.: email address)",
          "instillFormat": "string",
          "instillUIOrder": 2,
          "title": "Value",
          "type": "string"
        }
      },
      "required": [
      ]
    }
  },
  "TASK_GET_CONTACT": {
    "instillShortDescription": "Get contact information using contact ID or Email",
    "input": {
      "description": "Input contact ID or email",
      "instillUIOrder": 0,
      "properties": {
        "contact-id-or-email": {
          "description": "Input contact ID or email. If the input has @, it will search the contact using email",
          "$ref": "#/$defs/contact-id-or-email"
        }
      },
      "required": [
        "contact-id-or-email"
      ],
      "title": "Input",
      "type": "object"
    },
    "output": {
      "description": "Contact information",
      "instillUIOrder": 0,
      "properties": {
        "email": {
          "$ref": "#/$defs/email",
          "instillFormat": "string",
          "required": []
        },
        "first-name": {
          "$ref": "#/$defs/first-name",
          "instillFormat": "string",
          "required": []
        },
        "last-name": {
          "$ref": "#/$defs/last-name",
          "instillFormat": "string",
          "required": []
        },
        "phone-number": {
          "$ref": "#/$defs/phone-number",
          "instillFormat": "string",
          "required": []
        },
        "company": {
          "$ref": "#/$defs/company",
          "instillFormat": "string",
          "required": []
        },
        "owner-id": {
          "$ref": "#/$defs/owner-id",
          "instillFormat": "string",
          "required": []
        },
        "job-title": {
          "$ref": "#/$defs/job-title",
          "instillFormat": "string",
          "required": []
        },
        "lifecycle-stage": {
          "$ref": "#/$defs/lifecycle-stage",
          "instillFormat": "string",
          "required": []
        },
        "lead-status": {
          "$ref": "#/$defs/lead-status",
          "instillFormat": "string",
          "required": []
        },
        "contact-id": {
          "description": "Contact ID",
          "instillUIOrder": 9,
          "required": [],
          "title": "Contact ID",
          "type": "string",
          "instillFormat": "string"
        }
      },
      "required": [
        "contact-id"
      ],
      "title": "Output",
      "type": "object"
    }
  },
  "TASK_CREATE_CONTACT": {
    "instillShortDescription": "Create new contact",
    "input": {
      "description": "Contact information",
      "instillUIOrder": 0,
      "properties": {
        "email": {
          "$ref": "#/$defs/email",
          "instillAcceptFormats": [
            "string"
          ],
          "instillUIMultiline": true,
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ]
        },
        "first-name": {
          "$ref": "#/$defs/first-name",
          "instillAcceptFormats": [
            "string"
          ],
          "instillUIMultiline": true,
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ]
        },
        "last-name": {
          "$ref": "#/$defs/last-name",
          "instillAcceptFormats": [
            "string"
          ],
          "instillUIMultiline": true,
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ]
        },
        "phone-number": {
          "$ref": "#/$defs/phone-number",
          "instillAcceptFormats": [
            "string"
          ],
          "instillUIMultiline": true,
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ]
        },
        "company": {
          "$ref": "#/$defs/company",
          "instillAcceptFormats": [
            "string"
          ],
          "instillUIMultiline": true,
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ]
        },
        "owner-id": {
          "$ref": "#/$defs/owner-id",
          "instillAcceptFormats": [
            "string"
          ],
          "instillUIMultiline": true,
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ]
        },
        "job-title": {
          "$ref": "#/$defs/job-title",
          "instillAcceptFormats": [
            "string"
          ],
          "instillUIMultiline": true,
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ]
        },
        "lifecycle-stage": {
          "$ref": "#/$defs/lifecycle-stage",
          "instillAcceptFormats": [
            "string"
          ],
          "instillUIMultiline": true,
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ]
        },
        "lead-status": {
          "$ref": "#/$defs/lead-status",
          "instillAcceptFormats": [
            "string"
          ],
          "instillUIMultiline": true,
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ]
        }
      },
      "required": [
        "email"
      ],
      "title": "Input",
      "type": "object"
    },
    "output": {
      "description": "Obtain contact ID",
      "instillUIOrder": 0,
      "properties": {
        "contact-id": {
          "description": "Contact ID",
          "instillUIOrder": 0,
          "required": [],
          "title": "Contact ID",
          "type": "string",
          "instillFormat": "string"
        }
      },
      "required": [
        "contact-id"
      ],
      "title": "Output",
      "type": "object"
    }
  },
  "TASK_GET_DEAL": {
    "instillShortDescription": "Get deal information using deal ID",
    "input": {
      "description": "Input deal ID",
      "instillUIOrder": 0,
      "properties": {
        "deal-id": {
          "description": "Input deal ID",
          "instillAcceptFormats": [
            "string"
          ],
          "instillUIMultiline": true,
          "instillUIOrder": 0,
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ],
          "title": "Deal ID",
          "type": "string"
        }
      },
      "required": [
        "deal-id"
      ],
      "title": "Input",
      "type": "object"
    },
    "output": {
      "description": "Contact information",
      "instillUIOrder": 0,
      "properties": {
        "owner-id": {
          "$ref": "#/$defs/owner-id",
          "instillFormat": "string",
          "required": []
        },
        "deal-name": {
          "$ref": "#/$defs/deal-name",
          "instillFormat": "string",
          "required": []
        },
        "pipeline": {
          "$ref": "#/$defs/pipeline",
          "instillFormat": "string",
          "required": []
        },
        "deal-stage": {
          "$ref": "#/$defs/deal-stage",
          "instillFormat": "string",
          "required": []
        },
        "amount": {
          "$ref": "#/$defs/amount",
          "instillFormat": "string",
          "required": []
        },
        "deal-type": {
          "$ref": "#/$defs/deal-type",
          "instillFormat": "string",
          "required": []
        },
        "create-date": {
          "$ref": "#/$defs/create-date",
          "instillFormat": "string",
          "required": []
        },
        "close-date": {
          "$ref": "#/$defs/close-date",
          "instillFormat": "string",
          "required": []
        }
      },
      "required": [
        "deal-name",
        "pipeline",
        "deal-stage"

      ],
      "title": "Output",
      "type": "object"
    }
  },
  "TASK_CREATE_DEAL": {
    "instillShortDescription": "Create new contact",
    "input": {
      "description": "Contact information",
      "instillUIOrder": 0,
      "properties": {
        "contact-id-or-email": {
          "description": "Use to associate contact with deal. If the input has @, it will use email, otherwise, it will use contact id.",
          "$ref": "#/$defs/contact-id-or-email"
        },
        "deal-name": {
          "$ref": "#/$defs/deal-name",
          "instillAcceptFormats": [
            "string"
          ],
          "instillUIMultiline": true,
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ]
        },
        "pipeline": {
          "$ref": "#/$defs/pipeline",
          "instillAcceptFormats": [
            "string"
          ],
          "instillUIMultiline": true,
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ]
        },
        "deal-stage": {
          "$ref": "#/$defs/deal-stage",
          "instillAcceptFormats": [
            "string"
          ],
          "instillUIMultiline": true,
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ]
        },
        "amount": {
          "$ref": "#/$defs/amount",
          "instillAcceptFormats": [
            "string"
          ],
          "instillUIMultiline": true,
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ]
        },
        "deal-type": {
          "$ref": "#/$defs/deal-type",
          "instillAcceptFormats": [
            "string"
          ],
          "instillUIMultiline": true,
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ]
        },
        "close-date": {
          "$ref": "#/$defs/close-date",
          "instillAcceptFormats": [
            "string"
          ],
          "instillUIMultiline": true,
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ]
        }
      },
      "required": [
        "deal-name",
        "pipeline",
        "deal-stage"

      ],
      "title": "Input",
      "type": "object"
    },
    "output": {
      "description": "Obtain deal ID",
      "instillUIOrder": 0,
      "properties": {
        "deal-id": {
          "description": "Deal ID",
          "instillUIOrder": 0,
          "required": [],
          "title": "Deal ID",
          "type": "string",
          "instillFormat": "string"
        }
      },
      "required": [
        "deal-id"
      ],
      "title": "Output",
      "type": "object"
    }
  },
  "TASK_GET_THREAD": {
    "instillShortDescription": "Retrieve all the messages inside a thread (conversation inbox)",
    "input": {
      "description": "Input thread ID",
      "instillUIOrder": 0,
      "properties": {
        "thread-id": {
          "description": "Input thread ID",
          "instillAcceptFormats": [
            "string"
          ],
          "instillUIMultiline": true,
          "instillUIOrder": 0,
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ],
          "title": "Thread ID",
          "type": "string"
        }
      },
      "required": [
        "thread-id"
      ],
      "title": "Input",
      "type": "object"
    },
    "output": {
      "description": "All messages in the thread",
      "instillUIOrder": 0,
      "properties": {
        "results": {
          "description": "An array of messages",
          "instillUIOrder": 0,
          "title": "Messages",
          "type": "array",
          "items": {
            "title": "Messages Details",
            "type": "object",
            "properties": {
              "created-at": {
                "description": "message to start a conversation",
                "instillFormat": "string",
                "instillUIOrder": 0,
                "title": "Start Conversation Message",
                "type": "string"
              },
              "senders": {
                "description": "Senders",
                "instillFormat": "array",
                "instillUIOrder": 1,
                "title": "Senders",
                "type": "array",
                "items": {
                  "title": "Sender's information",
                  "$ref": "#/$defs/thread-user-information"
                }
              },
              "recipients": {
                "description": "Recipients",
                "instillFormat": "array",
                "instillUIOrder": 2,
                "title": "Recipients",
                "type": "array",
                "items": {
                  "title": "Recipient's information",
                  "$ref": "#/$defs/thread-user-information"
                }
              },
              "text": {
                "description": "when a conversation starts",
                "instillFormat": "string",
                "instillUIOrder": 3,
                "required": [],
                "title": "Start Date",
                "type": "string"
              },
              "subject": {
                "description": "Date of the last message",
                "instillFormat": "string",
                "instillUIOrder": 4,
                "required": [],
                "title": "Last Date",
                "type": "string"
              }
            },
            "required": [
              "created-at",
              "text",
              "subject"
            ]
          }
        }
      },
      "required": [
        "results"
      ],
      "title": "Output",
      "type": "object"
    }
  },
  "TASK_RETRIEVE_ASSOCIATION":{
    "instillShortDescription": "Get all the object IDs associated with contact ID",
    "input": {
      "description": "Contact ID and object type (CRM objects or Thread)",
      "instillUIOrder": 0,
      "properties": {
        "contact-id": {
          "description": "Input contact ID",
          "instillAcceptFormats": [
            "string"
          ],
          "instillUIMultiline": true,
          "instillUIOrder": 0,
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ],
          "title": "Contact ID",
          "type": "string"
        },
        "object-type": {
          "description": "Input object type (CRM objects or 'Threads'). Note: CRM objects include 'Deals', 'Companies', 'Tickets', etc",
          "instillAcceptFormats": [
            "string"
          ],
          "instillUIMultiline": true,
          "instillUIOrder": 1,
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ],
          "title": "Object Type",
          "type": "string"
        }
      },
      "required": [
        "contact-id",
        "object-type"
      ],
      "title": "Input",
      "type": "object"
    },
    "output": {
      "description": "All object IDs",
      "instillUIOrder": 0,
      "properties": {
        "results": {
          "description": "An array of object ID",
          "instillUIOrder": 0,
          "title": "Object ID Array ",
          "type": "array",
          "items": {
            "title": "Object ID",
            "type": "object",
            "properties": {
              "id": {
                "description": "Object ID",
                "instillFormat": "string",
                "instillUIOrder": 0,
                "title": "Object ID",
                "type": "string"
              }
            },
            "required": [
              "id"
            ]
          }
        }
      },
      "required": [
        "results"
      ],
      "title": "Output",
      "type": "object"
    }
  }

}
